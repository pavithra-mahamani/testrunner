query:
    select;
select:
    SELECT WINDOW_FUNCTION_NAME_START window_function_type WINDOW_FUNCTION_NAME_END (window_function_arguments) window_function_options OVER ( window_clause ) AS WF FROM BUCKET_NAME WHERE PRIMARY_KEY_ID IS NOT NULL;

window_function_arguments:
    WINDOW_FUNCTION_ARGUMENTS_START aggregate_quantifier DECIMAL_FIELD1 WINDOW_FUNCTION_ARGUMENTS_END;

aggregate_quantifier:
    | ALL ;

window_function_options:
    NTHVAL_FROM_START nthval_from NTHVAL_FROM_END NULLS_TREATMENT_START nulls_treatment NULLS_TREATMENT_END;

nthval_from:
    | FROM FIRST | FROM LAST ;

nulls_treatment:
    | RESPECT NULLS | IGNORE NULLS ;

window_clause:
    WINDOW_PARTITION_START window_partition_clause WINDOW_PARTITION_END WINDOW_ORDER_START window_order_clause WINDOW_ORDER_END |
    WINDOW_PARTITION_START window_partition_clause WINDOW_PARTITION_END WINDOW_ORDER_START window_order_clause WINDOW_ORDER_END WINDOW_FRAME_START window_frame_clause WINDOW_FRAME_END|
    WINDOW_PARTITION_START window_partition_clause WINDOW_PARTITION_END WINDOW_ORDER_START window_order_clause WINDOW_ORDER_END WINDOW_FRAME_START window_frame_clause WINDOW_FRAME_END WINDOW_FRAME_EXCLUSION_START window_frame_exclusion WINDOW_FRAME_EXCLUSION_END ;

window_partition_clause:
    | PARTITION BY CHAR_FIELD1 ;

window_order_clause:
    | ORDER BY DECIMAL_FIELD1 ordering_term ;

ordering_term:
    | ASC | DESC | ASC NULLS FIRST | ASC NULLS LAST | DESC NULLS FIRST | DESC NULLS LAST ;

window_frame_clause:
    ROWS UNBOUNDED PRECEDING
    | ROWS CURRENT ROW | ROWS 2 FOLLOWING |
    ROWS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING |
    ROWS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW | ROWS BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING |
    ROWS BETWEEN UNBOUNDED PRECEDING AND 2 FOLLOWING |
    ROWS BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING |
    ROWS BETWEEN CURRENT ROW AND CURRENT ROW |
    ROWS BETWEEN CURRENT ROW AND 2 FOLLOWING |
    ROWS BETWEEN 2 PRECEDING AND UNBOUNDED FOLLOWING |
    ROWS BETWEEN 2 PRECEDING AND CURRENT ROW | ROWS BETWEEN 2 PRECEDING AND 2 PRECEDING |
    ROWS BETWEEN 2 PRECEDING AND 2 FOLLOWING |
    ROWS BETWEEN 2 FOLLOWING AND UNBOUNDED FOLLOWING |
    ROWS BETWEEN 2 FOLLOWING AND 2 FOLLOWING |
    GROUPS UNBOUNDED PRECEDING | GROUPS CURRENT ROW | GROUPS 2 FOLLOWING |
    GROUPS BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING |
    GROUPS BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW | GROUPS BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING |
    GROUPS BETWEEN UNBOUNDED PRECEDING AND 2 FOLLOWING |
    GROUPS BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING |
    GROUPS BETWEEN CURRENT ROW AND CURRENT ROW |
    GROUPS BETWEEN CURRENT ROW AND 2 FOLLOWING |
    GROUPS BETWEEN 2 PRECEDING AND UNBOUNDED FOLLOWING |
    GROUPS BETWEEN 2 PRECEDING AND CURRENT ROW | GROUPS BETWEEN 2 PRECEDING AND 2 PRECEDING |
    GROUPS BETWEEN 2 PRECEDING AND 2 FOLLOWING |
    GROUPS BETWEEN 2 FOLLOWING AND UNBOUNDED FOLLOWING |
    GROUPS BETWEEN 2 FOLLOWING AND 2 FOLLOWING |
    RANGE UNBOUNDED PRECEDING | RANGE CURRENT ROW | RANGE 2 FOLLOWING |
    RANGE BETWEEN UNBOUNDED PRECEDING AND UNBOUNDED FOLLOWING |
    RANGE BETWEEN UNBOUNDED PRECEDING AND CURRENT ROW | RANGE BETWEEN UNBOUNDED PRECEDING AND 2 PRECEDING |
    RANGE BETWEEN UNBOUNDED PRECEDING AND 2 FOLLOWING |
    RANGE BETWEEN CURRENT ROW AND UNBOUNDED FOLLOWING |
    RANGE BETWEEN CURRENT ROW AND CURRENT ROW |
    RANGE BETWEEN CURRENT ROW AND 2 FOLLOWING |
    RANGE BETWEEN 2 PRECEDING AND UNBOUNDED FOLLOWING |
    RANGE BETWEEN 2 PRECEDING AND CURRENT ROW | RANGE BETWEEN 2 PRECEDING AND 2 PRECEDING |
    RANGE BETWEEN 2 PRECEDING AND 2 FOLLOWING |
    RANGE BETWEEN 2 FOLLOWING AND UNBOUNDED FOLLOWING |
    RANGE BETWEEN 2 FOLLOWING AND 2 FOLLOWING ;

window_frame_exclusion:
    EXCLUDE CURRENT ROW | EXCLUDE GROUP | EXCLUDE TIES | EXCLUDE NO OTHERS | ;

# generate 1 function per template file
window_function_type:
    CUME_DIST ;
#
#    aggregate_functions |
#
#    rank_functions |
#    ROW_NUMBER | NTILE | LAG | LEAD | FIRST_VALUE | LAST_VALUE | NTH_VALUE ;

#
#aggregate_functions:
#    ARRAY_AGG | AVG | COUNT | COUNTN | MAX | MEAN | MIN | SUM | STDDEV | STDDEV_SAMP | STDDEV_POP | VARIANCE | VAR_SAMP | VAR_POP ;

#
#rank_functions:
#    RANK | DENSE_RANK | PERCENT_RANK | CUME_DIST ;
